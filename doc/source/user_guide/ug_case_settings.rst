:tocdepth: 3

.. _case_settings:

Case Settings
=====================

There are two important files that define the case, **icepack.settings** and 
**icepack_in**.  **icepack.settings** is a list of env variables that define many
values used to setup, build and run the case.  **icepack_in** is the input namelist file
for the icepack driver.  Variables in both files are described below.

.. _tabsettings:

Table of Icepack Settings
--------------------------

The **icepack.settings** file is reasonably well self documented.  Several of
the variables defined in the file are not used in Icepack.  They exist
to support the CICE model.

.. csv-table:: *Icepack settings*
   :header: "variable", "options/format", "description", "recommended value"
   :widths: 15, 15, 25, 20

   "ICE_CASENAME", " ", "case name", "set by icepack.setup"
   "ICE_SANDBOX", " ", "sandbox directory", "set by icepack.setup"
   "ICE_MACHINE", " ", "machine name", "set by icepack.setup"
   "ICE_COMPILER", " ", "environment name", "set by icepack.setup"
   "ICE_MACHCOMP", " ", "machine_environment name", "set by icepack.setup"
   "ICE_SCRIPTS", " ", "scripts directory", "set by icepack.setup"
   "ICE_CASEDIR", " ", "case directory", "set by icepack.setup"
   "ICE_RUNDIR", " ", "run directory", "set by icepack.setup"
   "ICE_OBJDIR", " ", "compile directory", "${ICE_RUNDIR}/compile"
   "ICE_RSTDIR", " ", "unused", "${ICE_RUNDIR}/restart"
   "ICE_HSTDIR", " ", "unused", "${ICE_RUNDIR}/history"
   "ICE_LOGDIR", " ", "log directory", "${ICE_CASEDIR}/logs"
   "ICE_RSTPFILE", " ", "unused", "undefined"
   "ICE_DRVOPT", " ", "unused", "icepack"
   "ICE_IOTYPE", " ", "unused", "none"
   "ICE_CLEANBUILD", "true,false", "automatically clean before building", "true"
   "ICE_GRID", "col", "grid", "col"
   "ICE_NXGLOB", "4", "number of gridcells", "4"
   "ICE_NTASKS", "1", "number of tasks, must be set to 1", "1"
   "ICE_NTHRDS", "1", "number of threads per task, must be set to 1", "1"
   "ICE_TEST", " ", "test setting if using a test", "set by icepack.setup"
   "ICE_TESTNAME", " ", "test name if using a test", "set by icepack.setup"
   "ICE_BASELINE", " ", "baseline directory name, associated with icepack.setup -bd", "set by icepack.setup"
   "ICE_BASEGEN", " ", "baseline directory name for regression generation, associated with icepack.setup -bg ", "set by icepack.setup"
   "ICE_BASECOM", " ", "baseline directory name for regression comparison, associated with icepack.setup -bc ", "set by icepack.setup"
   "ICE_BFBCOMP", " ", "location of case for comparison, associated with icepack.setup -td", "set by icepack.setup"
   "ICE_SPVAL", " ", "unused", "UnDeFiNeD"
   "ICE_RUNLENGTH", " ", "batch run length default", "  00:10:00"
   "ICE_ACCOUNT", " ", "batch account number", "set by icepack.setup or by default"
   "ICE_THREADED", "true,false", "force threading in compile, will always compile threaded if NTHRDS is gt 1", "false"
   "NICELYR", " ", "number of vertical layers in the ice", "7"
   "NSNWLYR", " ", "number of vertical layers in the snow", "1"
   "NICECAT", " ", "number of ice thickness categories", "5"
   "NFSDCAT", " ", "number of floe size categories", "12"
   "TRAGE", "0,1", "ice age tracer", "1"
   "TRFY", "0,1", "first-year ice area tracer", "1"
   "TRLVL", "0,1", "deformed ice tracer", "1"
   "TRPND", "0,1", "melt pond tracer", "1"
   "NTRAERO", " ", "number of aerosol tracers", "1"
   "TRBRI", "0,1", "brine height tracer", "0"
   "TRZS", "0,1", "zsalinity tracer, needs TRBRI=1", "0"
   "TRBGCS", "0,1", "skeletal layer tracer, needs TRBGCZ=0", "0"
   "TRBGCZ", "0,1", "zbgc tracers, needs TRBGCS=0 and TRBRI=1", "0"
   "NBGCLYR", " ", "number of zbgc layers", "7"
   "TRZAERO", "0-6", "number of z aerosol tracers", "0"
   "TRALG", "0,1,2,3", "number of algal tracers", "0"
   "TRDOC", "0,1,2,3", "number of dissolved organic carbon", "0"
   "TRDIC", "0,1", "number of dissolved inorganic carbon", "0"
   "TRDON", "0,1", "number of dissolved organic nitrogen", "0"
   "TRFEP", "0,1,2", "number of particulate iron tracers", "0"
   "TRFED", "0,1,2", "number of dissolved iron tracers", "0"
   "ICE_BLDDEBUG", "true,false", "turn on compile debug flags", "false"


.. _tabnamelist:

Table of Namelist Inputs
--------------------------

Namelist is part of the icepack driver code and is used to setup testing of the
column physics.

.. _tab-namelist:

.. csv-table:: *Namelist Inputs*
   :header: "variable", "options/format", "description", "recommended value"
   :widths: 20, 10, 25, 10 

   "*setup_nml*", "", "", ""
   "", "", "**Time, Diagnostics**", ""
   "``days_per_year``", "``360`` or ``365``", "number of days in a model year", "365"
   "``use_leap_years``", "true/false", "if true, include leap days", ""
   "``year_init``", "yyyy", "the initial year, if not using restart", ""
   "``istep0``", "integer", "initial time step number", "0"
   "``dt``", "seconds", "thermodynamics time step length", "3600."
   "``npt``", "integer", "total number of time steps to take", ""
   "``ndtd``", "integer", "number of dynamics/advection/ridging/steps per thermo timestep", "1"
   "", "", "**Initialization/Restarting**", ""
   "``ice_ic``", "``default``", "latitude and sst dependent", "default"
   "", "``none``", "no ice", ""
   "", "path/file", "restart file name", ""
   "``restart_dir``", "path/", "path to restart directory", ""
   "``dumpfreq``", "``y``", "write restart every ``dumpfreq_n`` years", "y"
   "", "``m``", "write restart every ``dumpfreq_n`` months", ""
   "", "``d``", "write restart every ``dumpfreq_n`` days", ""
   "``dump_last``", "true/false", "write restart at end of run", "false"
   "", "", "**Model Output**", ""
   "``diagfreq``", "integer", "frequency of diagnostic output in ``dt``", "24"
   "", "*e.g.*, 10", "once every 10 time steps", ""
   "``diag_file``", "filename", "diagnostic output file (script may reset)", ""
   "", "", "", ""
   "*grid_nml*", "", "", ""
   "", "", "**Grid**", ""
   "``kcatbound``", "``0``", "original category boundary formula", "0"
   "", "``1``", "new formula with round numbers", ""
   "", "``2``", "WMO standard categories", ""
   "", "``-1``", "one category", ""
   "", "", "", ""
   "*tracer_nml*", "", "", ""
   "", "", "**Tracers**", ""
   "``tr_iage``", "true/false", "ice age", ""
   "``tr_FY``", "true/false", "first-year ice area", ""
   "``tr_lvl``", "true/false", "level ice area and volume", ""
   "``tr_pond_cesm``", "true/false", "CESM melt ponds", ""
   "``tr_pond_topo``", "true/false", "topo melt ponds", ""
   "``tr_pond_lvl``", "true/false", "level-ice melt ponds", ""
   "``tr_aero``", "true/false", "aerosols", ""
   "``tr_fsd``", "true/false", "floe size distribution", ""
   "", "", "", ""
   "*thermo_nml*", "", "", ""
   "", "", "**Thermodynamics**", ""
   "``kitd``", "``0``", "delta function ITD approximation", "1"
   "", "``1``", "linear remapping ITD approximation", ""
   "``ktherm``", "``0``", "zero-layer thermodynamic model", ""
   "", "``1``", "Bitz and Lipscomb thermodynamic model", ""
   "", "``2``", "mushy-layer thermodynamic model", ""
   "``conduct``", "``Maykut71``", "conductivity :cite:`Maykut71`", ""
   "", "``bubbly``", "conductivity :cite:`Pringle07`", ""
   "``a_rapid_mode``", "real", "brine channel diameter", "0.5x10 :math:`^{-3}` m"
   "``Rac_rapid_mode``", "real", "critical Rayleigh number", "10"
   "``aspect_rapid_mode``", "real", "brine convection aspect ratio", "1"
   "``dSdt_slow_mode``", "real", "drainage strength parameter", "-1.5x10 :math:`^{-7}` m/s/K"
   "``phi_c_slow_mode``", ":math:`0<\phi_c < 1`", "critical liquid fraction", "0.05"
   "``phi_i_mushy``", ":math:`0<\phi_i < 1`", "solid fraction at lower boundary", "0.85"
   "", "", "", ""
   "*dynamics_nml*", "", "", ""
   "", "", "**Dynamics**", ""
   "``kstrength``", "``0``", "ice strength formulation :cite:`Hibler79`", "1"
   "", "``1``", "ice strength formulation :cite:`Rothrock75`", ""
   "``krdg_partic``", "``0``", "old ridging participation function", "1"
   "", "``1``", "new ridging participation function", ""
   "``krdg_redist``", "``0``", "old ridging redistribution function", "1"
   "", "``1``", "new ridging redistribution function", ""
   "``mu_rdg``", "real", "e-folding scale of ridged ice", ""
   "``Cf``", "real", "ratio of ridging work to PE change in ridging", "17."
   "", "", "", ""
   "*shortwave_nml*", "", "", ""
   "", "", "**Shortwave**", ""
   "``shortwave``", "``ccsm3``", "NCAR CCSM3 distribution method", "'dEdd'"
   "", "``dEdd``", "Delta-Eddington method", ""
   "``albedo_type``", "``ccsm3``", "NCAR CCSM3 albedos", "'ccsm3'"
   "", "``constant``", "four constant albedos", ""
   "``albicev``", ":math:`0<\alpha <1`", "visible ice albedo for thicker ice", ""
   "``albicei``", ":math:`0<\alpha <1`", "near infrared ice albedo for thicker ice", ""
   "``albsnowv``", ":math:`0<\alpha <1`", "visible, cold snow albedo", ""
   "``albsnowi``", ":math:`0<\alpha <1`", "near infrared, cold snow albedo", ""
   "``ahmax``", "real", "albedo is constant above this thickness", "0.3 m"
   "``R_ice``", "real", "tuning parameter for sea ice albedo from Delta-Eddington shortwave", ""
   "``R_pnd``", "real", "... for ponded sea ice albedo …", ""
   "``R_snw``", "real", "... for snow (broadband albedo) …", ""
   "``dT_mlt``", "real", ":math:`\Delta` temperature per :math:`\Delta` snow grain radius", ""
   "``rsnw_mlt``", "real", "maximum melting snow grain radius", ""
   "``kalg``", "real", "absorption coefficient for algae", ""
   "", "", "", ""
   "*ponds_nml*", "", "", ""
   "", "", "**Melt Ponds**", ""
   "``hp1``", "real", "critical ice lid thickness for topo ponds", "0.01 m"
   "``hs0``", "real", "snow depth of transition to bare sea ice", "0.03 m"
   "``hs1``", "real", "snow depth of transition to pond ice", "0.03 m"
   "``dpscale``", "real", "time scale for flushing in permeable ice", ":math:`1\times 10^{-3}`"
   "``frzpnd``", "``hlid``", "Stefan refreezing with pond ice thickness", "‘hlid’"
   "", "``cesm``", "CESM refreezing empirical formula", ""
   "``rfracmin``", ":math:`0 \le r_{min} \le 1`", "minimum melt water added to ponds", "0.15"
   "``rfracmax``", ":math:`0 \le r_{max} \le 1`", "maximum melt water added to ponds", "1.0"
   "``pndaspect``", "real", "aspect ratio of pond changes (depth:area)", "0.8"
   "", "", "", ""
   "*forcing_nml*", "", "", ""
   "", "", "**Forcing**", ""
   "``formdrag``", "true/false", "calculate form drag", ""
   "``atmbndy``", "``default``", "stability-based boundary layer", "‘default’"
   "", "``constant``", "bulk transfer coefficients", ""
   "``fyear_init``", "yyyy", "first year of atmospheric forcing data", ""
   "``ycycle``", "integer", "number of years in forcing data cycle", ""
   "``atm_data_type``", "``default``", "constant values defined in the code", ""
   "", "``clim``", "monthly climatology (see :ref:`force`)", ""
   "", "``CFS``", "CFS model output  (see :ref:`force`)", ""
   "", "``ISPOL``", "ISPOL experiment data  (see :ref:`force`)", ""
   "", "``NICE``", "N-ICE experiment data  (see :ref:`force`)", ""
   "``data_dir``", "path/", "path to forcing data directory", ""
   "``atm_data_file``", "filename", "file containing atmospheric data", ""
   "``ocn_data_file``", "filename", "file containing ocean data", ""
   "``ice_data_file``", "filename", "file containing ice opening, closing data", ""
   "``bgc_data_file``", "filename", "file containing biogeochemistry data", ""
   "``calc_strair``", "true", "calculate wind stress and speed", ""
   "", "false", "read wind stress and speed from files", ""
   "``highfreq``", "true/false", "high-frequency atmo coupling", ""
   "``natmiter``", "integer", "number of atmo boundary layer iterations", ""
   "``calc_Tsfc``", "true/false", "calculate surface temperature", "``.true.``"
   "``precip_units``", "``mks``", "liquid precipitation data units", ""
   "", "``mm_per_month``", "", ""
   "", "``mm_per_sec``", "(same as MKS units)", ""
   "``tfrz_option``", "``minus1p8``", "constant ocean freezing temperature (:math:`-1.8^\circ C`)",""
   "", "``linear_salt``","linear function of salinity (ktherm=1)",""
   "", "``mushy``","matches mushy-layer thermo (ktherm=2)",""
   "``default_season``","``winter``", "Sets initial values of forcing and is overwritten when forcing read in. Default is winter",""
   "", "``summer``","typical summer values",""
   "", "``spring``","typical spring values",""
   "``ustar_min``", "real", "minimum value of ocean friction velocity", "0.0005 m/s"
   "``emissivity``", "real", "emissivity of snow and ice", "0.95"
   "``fbot_xfer_type``", "``constant``", "constant ocean heat transfer coefficient", ""
   "", "``Cdn_ocn``", "variable ocean heat transfer coefficient", ""
   "``update_ocn_f``", "true", "include frazil water/salt fluxes in ocn fluxes", ""
   "", "false", "do not include (when coupling with POP)", ""
   "``l_mpond_fresh``", "true", "retain (topo) pond water until ponds drain", ""
   "", "false", "release (topo) pond water immediately to ocean", ""
   "``oceanmixed_ice``", "true/false", "active ocean mixed layer calculation", "``.true.`` (if uncoupled)"
   "``wave_spec_type``", "``none``", "no ocean wave spectrum data - no wave-ice interactions",""
   "", "``constant``", "ocean wave spectrum data present*, sea surface height field generated using constant phase, for testing FSD", ""
   "", "``random``", "ocean wave spectrum data present*, sea surface height field generated using random phase", ""
   "``ocn_data_type``", "``default``", "constant values defined in the code", ""
   "", "``ISPOL``", "ISPOL experiment data  (see :ref:`force`)", ""
   "", "``NICE``", "N-ICE experiment data  (see :ref:`force`)", ""
   "", "``SHEBA``", "Opening/closing dataset from SHEBA", ""
   "``oceanmixed_file``", "filename", "data file containing ocean forcing data", ""
   "``restore_ocn``", "true/false", "restore sst to data", ""
   "``trestore``", "integer", "sst restoring time scale (days)", ""
   "", "", "", ""
   "*zbgc_nml*", "", "", ""
   "", "", "**Biogeochemistry**", ""
   "``tr_brine``", "true/false", "brine height tracer (needs TRBRI 1 in comp_ice)", "``.true.``"
   "``restart_hbrine``", "true/false", "restart the brine height tracer (automatically turned on if restart = .true.)", "``.false.``"
   "``tr_zaero``", "true/false", "turns on black carbon and dust aerosols", "``.false.``"
   "``modal_aero``", "true/false", "turns on a modal aerosol option", "``.false.``"
   "``skl_bgc``", "true/false", "turns on a single bottom layer biogeochemistry. z_tracers and solve_zbgc must be false", "``.false.``"
   "``z_tracers``", "true/false", "turns on a vertically resolved transport", "``.true.``"
   "``dEdd_algae``", "true/false", "Include radiative impact of algae and aerosols in the delta-Eddington shortwave scheme. Requires shortwave = 'dEdd'.", "``.false.``"
   "``solve_zbgc``", "true/false", "turns on the biochemistry using z_tracers (specify algal numbers in comp_ice TRALG)", "``.true.``"
   "``bgc_flux_type``", "``Jin2006`` or ``default``", "ice–ocean flux type for bottom layer tracers only :cite:`Jin06`", "``Jin2006``"
   "``restore_bgc``", "true/false", "restores upper ocean concentration fields to data values for nitrate and silicate", "``.false.``"
   "``restart_bgc``", "true/false", "restarts biogeochemical tracers (automatically turned on if restart = .true.)", "``.false.``"
   "``scale_bgc``", "true/false", "Initialize biogeochemical profiles to scale with prognosed salinity profile", "``.false.``"
   "``solve_zsal``", "true/false", "prognostic salinity tracer used with ktherm = 1", "``.false.``"
   "``restart_zsal``", "true/false", "restarts zsalinity", "``.false.``"
   "``bgc_data_type``", "``default``", "fixed, spatially homogeneous constant values defined in the code", ""
   "", "``clim``", "monthly climatology data file (see icedrv_forcing_bgc.F90) :cite:`Garcia06`", ""
   "", "``NICE``", "N-ICE experiment data", ""
   "", "``ISPOL``", "ISPOL experiment data", ""
   "``tr_bgc_Nit``", "true/false", "nitrate tracer", "``.true.``"
   "``tr_bgc_C``", "true/false", "dissolved organic carbon tracers and dissolved inorganic carbon tracers (not yet implemented)", "``.true.``"
   "``tr_bgc_chl``", "true/false", "dummy variable for now. Chl is simply fixed ratio of algal Nitrogen", "``.false.``"
   "``tr_bgc_Am``", "true/false", "Ammonium", "``.true.``"
   "``tr_bgc_Sil``", "true/false", "Silicate", "``.true.``"
   "``tr_bgc_DMS``", "true/false", "Three tracers: DMS dimethyl sulfide, DMSPp (particulate, assumed to be a fixed ratio of sulfur to algal nitrogen) and DMSPd (dissolved)", "``.true.``"
   "``tr_bgc_PON``", "true/false", "passive purely mobile ice tracer with ocean concentration equivalent to nitrate", "``.false.``"
   "``tr_bgc_hum``", "true/false", "refractory DOC or DON (units depend on the ocean source)", "``.true.``"
   "``tr_bgc_DON``", "true/false", "dissolved organic nitrogen", "``.true.``"
   "``tr_bgc_Fe``", "true/false", "dissolved iron and particulate iron", "``.true.``"
   "``grid_o``", "real", "ice-ocean surface layer thickness (bgc transport scheme)", "0.006"
   "``l_sk``", "real", "length scale in gravity drainage parameterization (bgc transport scheme)", "0.024"
   "``grid_oS``", "real", "ice-ocean surface layer thickness (zsalinity transport scheme)", "0.0"
   "``l_skS``", "real", "ice-atmosphere surface layer thickness (zsalinity transport scheme)", "0.028"
   "``phi_snow``", "real", "snow porosity at the ice-snow interface. if :math:`<0` then phi_snow is computed from snow density", "-0.3"
   "``initbio_frac``", "real", "for each bgc tracer, specifies the fraction of the ocean concentration that is retained in the ice during initial new ice formation", "0.8"
   "``frazil_scav``", "real", "for each bgc tracer, specifies the fraction or multiple of the ocean concentration that is retained in the ice from frazil ice formation", "0.8"
   "``ratio_si2N_diatoms``", "real", "algal Si to N (:math:`mol/mol`) for diatoms", "1.8"
   "``ratio_si2N_sp``", "real", "algal Si to N (:math:`mol/mol`) for small phytoplankton", "0.0"
   "``ratio_si2N_phaeo``", "real", "algal Si to N (:math:`mol/mol`) for phaeocystis", "0.0"
   "``ratio_S2N_diatoms``", "real", "algal S to N (:math:`mol/mol`) for diatoms", "0.03"
   "``ratio_S2N_sp``", "real", "algal S to N (:math:`mol/mol`) for small phytoplankton", "0.03"
   "``ratio_S2N_phaeo``", "real", "algal S to N (:math:`mol/mol`) for phaeocystis", "0.03"
   "``ratio_Fe2C_diatoms``", "real", "algal Fe to C (:math:`\mu mol/mol`) for diatoms", "0.0033"
   "``ratio_Fe2C_sp``", "real", "algal Fe to C (:math:`\mu mol/mol`) for small phytoplankton", "0.0033"
   "``ratio_Fe2C_phaeo``", "real", "algal Fe to C (:math:`\mu mol/mol`) for phaeocystis", "0.1"
   "``ratio_Fe2N_diatoms``", "real", "algal Fe to N (:math:`\mu mol/mol`) for diatoms", "0.023"
   "``ratio_Fe2N_sp``", "real", "algal Fe to N (:math:`\mu mol/mol`) for small phytoplankton", "0.023"
   "``ratio_Fe2N_phaeo``", "real", "algal Fe to N (:math:`\mu mol/mol`) for phaeocystis", "0.7"
   "``ratio_Fe2DON``", "real", "Fe to N of DON (:math:`nmol/mol`)", "0.023"
   "``ratio_Fe2DOC_s``", "real", "Fe to C of DOC for saccharids (:math:`nmol/mol`)", "0.1"
   "``ratio_Fe2DOC_l``", "real", "Fe to C of DOC for lipids (:math:`nmol/mol`)", "0.033"
   "``fr_resp``", "real", "fraction of algal growth lost due to respiration", "0.05"
   "``tau_min``", "real", "rapid mobile to stationary exchanges (:math:`s`)", "5200.0"
   "``tau_max``", "real", "long time mobile to stationary exchanges (:math:`s`)", "1.73e5"
   "``algal_vel``", "real", "0.5 :math:`cm/day (m/s)`", "1.11e-8"
   "``R_dFe2dust``", "real", "g/g (3.5% content)", "0.035"
   "``dustFe_sol``", "real", "solubility fraction", "0.005" 
   "``chlabs_diatoms``", "real", "diatoms chl absorption (:math:`1/m/(mg/m^3)`)", "0.03"
   "``chlabs_sp``", "real", "small phytoplankton chl absorption (:math:`1/m/(mg/m^3)`)", "0.01"
   "``chlabs_phaeo``", "real", "phaeocystis chl absorption (:math:`1/m/(mg/m^3)`)", "0.05"
   "``alpha2max_low_diatoms``", "real", "diatoms light limitation (:math:`(W/m^2)^{-1}`)", "0.8"    
   "``alpha2max_low_sp``", "real", "small phytoplankton light limitation (:math:`(W/m^2)^{-1}`)", "0.67"    
   "``alpha2max_low_phaeo``", "real", "phaeocystis light limitation (:math:`(W/m^2)^{-1}`)", "0.67"    
   "``beta2max_diatoms``", "real", "diatoms light inhibition (:math:`(W/m^2)^{-1}`)", "0.018"    
   "``beta2max_sp``", "real", "small phytoplankton light inhibition (:math:`(W/m^2)^{-1}`)", "0.0025"    
   "``beta2max_phaeo``", "real", "phaeocystis light inhibition (:math:`(W/m^2)^{-1}`)", "0.01" 
   "``mu_max_diatoms``", "real", "diatoms maximum growth rate (:math:`day^{-1}`)", "1.2" 
   "``mu_max_sp``", "real", "small phytoplankton maximum growth rate (:math:`day^{-1}`)", "0.851"  
   "``mu_max_phaeo``", "real", "phaeocystis maximum growth rate (:math:`day^{-1}`)", "0.851" 
   "``grow_Tdep_diatoms``", "real", "diatoms Temperature dependence of growth (:math:`^o`\ C\ :math:`^{-1})`", "0.06" 
   "``grow_Tdep_sp``", "real", "small phytoplankton Temperature dependence of growth :math:`^o`\ C\ :math:`^{-1}`", "0.06"  
   "``grow_Tdep_phaeo``", "real", "phaeocystis Temperature dependence of growth :math:`^o`\ C\ :math:`^{-1}`", "0.06"  
   "``fr_graze_diatoms``", "real", "diatoms fraction grazed", "0.01" 
   "``fr_graze_sp``", "real", "small phytoplankton fraction grazed", "0.1"  
   "``fr_graze_phaeo``", "real", "phaeocystis fraction grazed", "0.1" 
   "``mort_pre_diatoms``", "real", "diatoms mortality (:math:`day^{-1}`)", "0.007" 
   "``mort_pre_sp``", "real", "small phytoplankton mortality (:math:`day^{-1}`)", "0.007"  
   "``mort_pre_phaeo``", "real", "phaeocystis mortality (:math:`day^{-1}`)", "0.007" 
   "``mort_Tdep_diatoms``", "real", "diatoms temperature dependence of mortality :math:`^o`\ C\ :math:`^{-1}`", "0.03" 
   "``mort_Tdep_sp``", "real", "small phytoplankton temperature dependence of mortality (:math:`^o`\ C\ :math:`^{-1}`)", "0.03"  
   "``mort_Tdep_phaeo``", "real", "phaeocystis temperature dependence of mortality (:math:`^o`\ C\ :math:`^{-1}`)", "0.03" 
   "``k_exude_diatoms``", "real", "diatoms algal exudation (:math:`day^{-1}`)", "0.0" 
   "``k_exude_sp``", "real", "small phytoplankton algal exudation (:math:`day^{-1}`)", "0.0"  
   "``k_exude_phaeo``", "real", "phaeocystis algal exudation (:math:`day^{-1}`)", "0.0"           
   "``K_Nit_diatoms``", "real", "datoms nitrate half saturation (:math:`mmol/m^3`)", "1.0" 
   "``K_Nit_sp``", "real", "small phytoplankton nitrate half saturation (:math:`mmol/m^3`)", "1.0"  
   "``K_Nit_phaeo``", "real", "phaeocystis nitrate half saturation (:math:`mmol/m^3`)", "1.0"           
   "``K_Am_diatoms``", "real", "diatoms ammonium half saturation (:math:`mmol/m^3`)", "0.3" 
   "``K_Am_sp``", "real", "small phytoplankton ammonium half saturation (:math:`mmol/m^3`)", "0.3"  
   "``K_Am_phaeo``", "real", "phaeocystis ammonium half saturation (:math:`mmol/m^3`)", "0.3"   
   "``K_Sil_diatoms``", "real", "diatoms silicate half saturation (:math:`mmol/m^3`)", "4.0" 
   "``K_Sil_sp``", "real", "small phytoplankton silicate half saturation (:math:`mmol/m^3`)", "0.0"  
   "``K_Sil_phaeo``", "real", "phaeocystis silicate half saturation (:math:`mmol/m^3`)", "0.0" 
   "``K_Fe_diatoms``", "real", "diatoms iron half saturation (:math:`nM`)", "1.0" 
   "``K_Fe_sp``", "real", "small phytoplankton iron half saturation (:math:`nM`)", "0.2"  
   "``K_Fe_phaeo``", "real", "phaeocystis iron half saturation (:math:`nM`)", "0.1"   
   "``f_don_protein``", "real", "fraction of spilled grazing to proteins", "0.6" 
   "``kn_bac_protein``", "real", "Bacterial degredation of DON (:math:`day^{-1}`)", "0.03"                
   "``f_don_Am_protein``", "real", "fraction of remineralized DON to ammonium", "0.25"
   "``f_doc_s``", "real", "fraction of mortality to DOC saccharids", "0.4"
   "``f_doc_l``", "real", "fraction of mortality to DOC lipids", "0.4"  
   "``f_exude_s``", "real", "fraction of exudation to DOC saccharids", "1.0"
   "``f_exude_l``", "real", "fraction of exudation to DOC lipids", "1.0"  
   "``k_bac_s``", "real", "bacterial degredation of DOC (:math:`day^{-1}`) saccharids", "0.03"
   "``k_bac_l``", "real", "bacterial degredation of DOC (:math:`day^{-1}`) lipids", "0.03"  
   "``T_max``", "real", "maximum temperature (:math:`^o`\ C)", "0.0"
   "``fsal``", "real", "Salinity limitation (ppt)", "1.0"
   "``op_dep_min``", "real", "Light attenuates for optical depths exceeding min", "0.1"
   "``fr_graze_s``", "real", "fraction of grazing spilled or slopped", "0.5"
   "``fr_graze_e``", "real", "fraction of assimilation excreted", "0.5"
   "``fr_mort2min``", "real", "fractionation of mortality to Am", "0.5"
   "``fr_dFe``", "real", "fraction of remineralized nitrogen (algal iron)", "0.3"
   "``k_nitrif``", "real", "nitrification rate (:math:`day^{-1}`)", "0.0"
   "``t_iron_conv``", "real", "desorption loss pFe to dFe (day)", "3065.0"
   "``max_loss``", "real", "restrict uptake to % of remaining value", "0.9"
   "``max_dfe_doc1``", "real", "max ratio of dFe to saccharides in the ice (:math:`nM Fe/\mu M C`)", "0.2"
   "``fr_resp_s``", "real", "DMSPd fraction of respiration loss as DMSPd", "0.75"
   "``y_sk_DMS``", "real", "fraction conversion given high yield", "0.5"
   "``t_sk_conv``", "real", "Stefels conversion time (:math:`day`)", "3.0"
   "``t_sk_ox``", "real", "DMS oxidation time (:math:`day`)", "10.0"
   "``algaltype_diatoms``", "real", "mobility type between stationary <--> mobile for diatoms", "0.0"
   "``algaltype_sp``", "real", "mobility type between stationary <--> mobile for small phytoplankton", "0.5"
   "``algaltype_phaeo``", "real", "mobility type between stationary <--> mobile for phaeocystis", "0.5"
   "``nitratetype``", "real", "mobility type between stationary <--> mobile for nitrate", "-1.0"
   "``ammoniumtype``", "real", "mobility type between stationary <--> mobile for ammonium", "1.0"
   "``silicatetype``", "real", "mobility type between stationary <--> mobile for silicate", "-1.0"
   "``dmspptype``", "real", "mobility type between stationary <--> mobile for DMSP particulate", "0.5"
   "``dmspdtype``", "real", "mobility type between stationary <--> mobile for DMSP dissolved", "-1.0"
   "``humtype``", "real", "mobility type between stationary <--> mobile for humic matter", "1.0"
   "``doctype_s``", "real", "mobility type between stationary <--> mobile for DOC saccharids", "0.5"
   "``doctype_l``", "real", "mobility type between stationary <--> mobile for DOC lipids", "0.5"
   "``dontype_protein``", "real", "mobility type between stationary <--> mobile for proteins", "0.5"
   "``fedtype_1``", "real", "mobility type between stationary <--> mobile for FeD", "0.5"
   "``feptype_1``", "real", "mobility type between stationary <--> mobile for FeP", "0.5"
   "``zaerotype_bc1``", "real","mobility type between stationary <--> mobile for zaerotype_bc1",  "1.0"
   "``zaerotype_bc2``", "real", "mobility type between stationary <--> mobile for zaerotype_bc2", "1.0"
   "``zaerotype_dust1``", "real", "mobility type between stationary <--> mobile for dust1", "1.0"
   "``zaerotype_dust2``", "real", "mobility type between stationary <--> mobile for dust2", "1.0"
   "``zaerotype_dust3``", "real", "mobility type between stationary <--> mobile for dust3", "1.0"
   "``zaerotype_dust4``", "real", "mobility type between stationary <--> mobile for dust4", "1.0"
   "``ratio_C2N_diatoms``", "real", "diatom algal C to N ratio (:math:`mol/mol`)", "7.0"
   "``ratio_C2N_sp``", "real", "small phytoplankton algal C to N ratio (:math:`mol/mol`)", "7.0"
   "``ratio_C2N_phaeo``", "real", "phaeocystis algal C to N ratio (:math:`mol/mol`)", "7.0"
   "``ratio_chl2N_diatoms``", "real", "diatom algal chlorophyll to N ratio (:math:`mg/mmol`)", "2.1"
   "``ratio_chl2N_sp``", "real", "small phytoplankton algal chlorophyll to N ratio (:math:`mg/mmol`)", "1.1"
   "``ratio_chl2N_phaeo``", "real", "phaeocystis algal chlorophyll to N ratio (:math:`mg/mmol`)", "0.84"
   "``F_abs_chl_diatoms``", "real", "diatom scales absorbed radiation for dEdd", "2.0"
   "``F_abs_chl_sp``", "real", "small phytoplankton scales absorbed radiation for dEdd", "4.0"
   "``F_abs_chl_phaeo``", "real", "phaeocystis scales absorbed radiation for dEdd", "5.0"       
   "``ratio_C2N_proteins``", "real", "ratio of C to N in proteins (:math:`mol/mol`)", "7.0"
   "", "", "", ""

.. commented out below
..   "``dbug``", "true/false", "if true, write extra diagnostics", "``.false.``"
..   "``atm_data_format``", "``nc``", "read  atmo forcing files", ""
..   "", "``bin``", "read direct access, binary files", ""
..   "", "``NICE``", "N-ICE experiment data", ""
..   "", "``NICE``", "N-ICE experiment data", ""
..   "", "``NICE``", "N-ICE experiment data", ""

* = If Icepack is run stand-alone and wave_spec_type is not set to none, then a fixed wave spectrum is defined in the code to use for testing. As with other input data, this spectrum should not be used for production runs or publications.
  
.. _tuning:

BGC Tuning Parameters
------------------------

Biogeochemical tuning parameters are specified as namelist options in
**icepack\_in**. Table :ref:`tab-bio-tracers2` provides a list of parameters
used in the reaction equations, their representation in the code, a
short description of each and the default values. Please keep in mind
that there has only been minimal tuning of the model.

.. _tab-bio-tracers2:

.. csv-table:: *Biogeochemical Reaction Parameters*
   :header: "Text Variable", "Variable in code", "Description", "Value", "units"
   :widths: 7, 20, 15, 15, 15

   ":math:`f_{graze}`", "fr\_graze(1:3)", "fraction of growth grazed", "0, 0.1, 0.1", "1"
   ":math:`f_{res}`", "fr\_resp", "fraction of growth respired", "0.05", "1"
   ":math:`l_{max}`", "max\_loss", "maximum tracer loss fraction", "0.9", "1"
   ":math:`m_{pre}`", "mort\_pre(1:3)", "maximum mortality rate", "0.007, 0.007, 0.007", "day\ :math:`^{-1}`"
   ":math:`m_{T}`", "mort\_Tdep(1:3)", "mortality temperature decay", "0.03, 0.03, 0.03", ":math:`^o`\ C\ :math:`^{-1}`"
   ":math:`T_{max}`", "T\_max", "maximum brine temperature", "0", ":math:`^o`\ C"
   ":math:`k_{nitr}`", "k\_nitrif", "nitrification rate", "0", "day\ :math:`^{-1}`"
   ":math:`f_{ng}`", "fr\_graze\_e", "fraction of grazing excreted", "0.5", "1"
   ":math:`f_{gs}`", "fr\_graze\_s", "fraction of grazing spilled", "0.5", "1"
   ":math:`f_{nm}`", "fr\_mort2min", "fraction of mortality to :math:`{\mbox{NH$_4$}}`", "0.5", "1"
   ":math:`f_{dg}`", "f\_don", "frac. spilled grazing to :math:`{\mbox{DON}}`", "0.6", "1"
   ":math:`k_{nb}`", "kn\_bac :math:`^a`", "bacterial degradation of :math:`{\mbox{DON}}`", "0.03", "day\ :math:`^{-1}`"
   ":math:`f_{cg}`", "f\_doc(1:3)", "fraction of mortality to :math:`{\mbox{DOC}}`", "0.4, 0.4, 0.2 ", "1"
   ":math:`R_{c:n}^c`", "R\_C2N(1:3)", "algal carbon to nitrogen ratio", "7.0, 7.0, 7.0", "mol/mol"
   ":math:`k_{cb}`", "k\_bac1:3\ :math:`^a`", "bacterial degradation of DOC", "0.03, 0.03, 0.03", "day\ :math:`^{-1}`"
   ":math:`\tau_{fe}`", "t\_iron\_conv", "conversion time pFe :math:`\leftrightarrow` dFe", "3065.0 ", "day"
   ":math:`r^{max}_{fed:doc}`", "max\_dfe\_doc1", "max ratio of dFe to saccharids", "0.1852", "nM Fe\ :math:`/\mu`\ M C"
   ":math:`f_{fa}`", "fr\_dFe  ", "fraction of remin. N to dFe", "0.3", "1"
   ":math:`R_{fe:n}`", "R\_Fe2N(1:3)", "algal Fe to N ratio", "0.023, 0.023, 0.7", "mmol/mol"
   ":math:`R_{s:n}`", "R\_S2N(1:3)", "algal S to N ratio", "0.03, 0.03, 0.03", "mol/mol"
   ":math:`f_{sr}`", "fr\_resp\_s", "resp. loss as DMSPd", "0.75", "1"
   ":math:`\tau_{dmsp}`", "t\_sk\_conv", "Stefels rate", "3.0", "day"
   ":math:`\tau_{dms}`", "t\_sk\_ox", "DMS oxidation rate", "10.0", "day"
   ":math:`y_{dms}`", "y\_sk\_DMS", "yield for DMS conversion", "0.5", "1"
   ":math:`K_{{\mbox{NO$_3$}}}`", "K\_Nit(1:3)", ":math:`{\mbox{NO$_3$}}` half saturation constant", "1,1,1", "mmol/m\ :math:`^{3}`"
   ":math:`K_{{\mbox{NH$_4$}}}`", "K\_Am(1:3)", ":math:`{\mbox{NH$_4$}}` half saturation constant", "0.3, 0.3, 0.3", "mmol/m\ :math:`^{-3}`"
   ":math:`K_{{\mbox{SiO$_3$}}}`", "K\_Sil(1:3)", "silicate half saturation constant", "4.0, 0, 0", "mmol/m\ :math:`^{-3}`"
   ":math:`K_{{\mbox{fed}}}`", "K\_Fe(1:3)", "iron half saturation constant", "1.0, 0.2, 0.1", ":math:`\mu`\ mol/m\ :math:`^{-3}`"
   ":math:`op_{min}`", "op\_dep\_min", "boundary for light attenuation", "0.1", "1"
   ":math:`chlabs`", "chlabs(1:3)", "light absorption length per chla conc.", "0.03, 0.01, 0.05", "1\ :math:`/`\ m\ :math:`/`\ (mg\ :math:`/`\ m\ :math:`^{3}`)"
   ":math:`\alpha`", "alpha2max\_low(1:3)", "light limitation factor", "0.25, 0.25, 0.25", "m\ :math:`^2`/W"
   ":math:`\beta`", "beta2max(1:3)", "light inhibition factor", "0.018, 0.0025, 0.01", "m\ :math:`^2`/W"
   ":math:`\mu_{max}`", "mu\_max(1:3)", "maximum algal growth rate", "1.44, 0.851, 0.851", "day\ :math:`^{-1}`"
   ":math:`\mu_T`", "grow\_Tdep(1:3)", "temperature growth factor", "0.06, 0.06, 0.06", "day\ :math:`^{-1}`"
   ":math:`f_{sal}`", "fsal", "salinity growth factor", "1", "1"
   ":math:`R_{si:n}`", "R\_Si2N(1:3)", "algal silicate to nitrogen", "1.8, 0, 0", "mol/mol"

:math:`^a` only (1:2) of DOC and DOC parameters have physical meaning
