

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3. User Guide &#8212; CICE-Consortium Icepack 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Index of primary variables and parameters" href="icepack_4_index.html" />
    <link rel="prev" title="2. Science Guide" href="icepack_2_science_guide.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="icepack_4_index.html" title="4. Index of primary variables and parameters"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="icepack_2_science_guide.html" title="2. Science Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CICE-Consortium Icepack 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. User Guide</a><ul>
<li><a class="reference internal" href="#numerical-implementation">3.1. Numerical implementation</a><ul>
<li><a class="reference internal" href="#directory-structure">3.1.1. Directory structure</a></li>
<li><a class="reference internal" href="#grid-and-boundary-conditions">3.1.2. Grid and boundary conditions</a></li>
<li><a class="reference internal" href="#test-configurations">3.1.3. Test configurations</a></li>
<li><a class="reference internal" href="#initialization-and-coupling">3.1.4. Initialization and coupling</a></li>
<li><a class="reference internal" href="#choosing-an-appropriate-time-step">3.1.5. Choosing an appropriate time step</a></li>
<li><a class="reference internal" href="#model-output">3.1.6. Model output</a><ul>
<li><a class="reference internal" href="#diagnostic-files">3.1.6.1. Diagnostic files</a></li>
<li><a class="reference internal" href="#restart-files">3.1.6.2. Restart files</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#execution-procedures">3.2. Execution procedures</a><ul>
<li><a class="reference internal" href="#id6">3.2.1. Scripts</a></li>
<li><a class="reference internal" href="#directories">3.2.2. Directories</a></li>
<li><a class="reference internal" href="#local-modifications">3.2.3. Local modifications</a></li>
<li><a class="reference internal" href="#forcing-data">3.2.4. Forcing data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-tracers">3.3. Adding Tracers</a></li>
<li><a class="reference internal" href="#troubleshooting">3.4. Troubleshooting</a><ul>
<li><a class="reference internal" href="#initial-setup">3.4.1. Initial setup</a></li>
<li><a class="reference internal" href="#restarts">3.4.2. Restarts</a></li>
<li><a class="reference internal" href="#known-bugs">3.4.3. Known bugs</a></li>
<li><a class="reference internal" href="#interpretation-of-albedos">3.4.4. Interpretation of albedos</a></li>
<li><a class="reference internal" href="#proliferating-subprocess-parameterizations">3.4.5. Proliferating subprocess parameterizations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#table-of-namelist-options">3.5. Table of namelist options</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="icepack_2_science_guide.html"
                        title="previous chapter">2. Science Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="icepack_4_index.html"
                        title="next chapter">4. Index of primary variables and parameters</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/icepack_3_user_guide.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="user-guide">
<h1>3. User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="numerical-implementation">
<h2>3.1. Numerical implementation<a class="headerlink" href="#numerical-implementation" title="Permalink to this headline">¶</a></h2>
<p>Icepack is written in FORTRAN90 and runs on platforms using UNIX, LINUX,
and other operating systems. The code is not parallelized. (CHANGE IF OPENMP IS IMPLEMENTED)</p>
<div class="section" id="directory-structure">
<span id="dirstructure"></span><h3>3.1.1. Directory structure<a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a></h3>
<p>The present code distribution includes make files, several scripts and
some input files. One year of atmospheric forcing data is also available
from the code distribution web site (see the <strong>README</strong> file for
details).</p>
<p><strong>LICENSE.pdf</strong></p>
<dl class="docutils">
<dt><strong>DistributionPolicy.pdf</strong></dt>
<dd>license and policy for using and sharing the code</dd>
<dt><strong>README.md</strong>  (CHECK: RM?) <strong>README_v1</strong></dt>
<dd>basic information and pointers</dd>
<dt><strong>columnphysics/</strong></dt>
<dd><p class="first">the essential physics code</p>
<dl class="last docutils">
<dt><strong>constants</strong>  (CHECK))</dt>
<dd><p class="first">physical and numerical constants required for column package</p>
<p><strong>cesm/icepack_constants.F90</strong></p>
<p><strong>cice/icepack_constants.F90</strong></p>
<p class="last"><strong>hadgem3/icepack_constants.F90</strong></p>
</dd>
<dt><strong>icepack_aerosol.F90</strong></dt>
<dd>handles most work associated with the aerosol tracers</dd>
<dt><strong>icepack_age.F90</strong></dt>
<dd>handles most work associated with the age tracer</dd>
<dt><strong>icepack_algae.F90</strong></dt>
<dd>biogeochemistry</dd>
<dt><strong>icepack_atmo.F90</strong></dt>
<dd>stability-based parameterization for calculation of turbulent ice–atmosphere fluxes</dd>
<dt><strong>icepack_brine.F90</strong></dt>
<dd>evolves the brine height tracer</dd>
<dt><strong>icepack_firstyear.F90</strong></dt>
<dd>handles most work associated with the first-year ice area tracer</dd>
<dt><strong>icepack_flux.F90</strong></dt>
<dd>fluxes needed/produced by the model</dd>
<dt><strong>icepack_intfc.F90</strong></dt>
<dd>interface routines for linking Icepack with a host sea ice model</dd>
<dt><strong>icepack_intfc_shared.F90</strong></dt>
<dd>interface routines for linking Icepack with a host sea ice model</dd>
<dt><strong>icepack_intfc_tracers.F90</strong></dt>
<dd>interface routines for linking Icepack with a host sea ice model</dd>
<dt><strong>icepack_itd.F90</strong></dt>
<dd>utilities for managing ice thickness distribution</dd>
<dt><strong>icepack_kinds_mod.F90</strong></dt>
<dd>basic definitions of reals, integers, etc.</dd>
<dt><strong>icepack_mechred.F90</strong></dt>
<dd>mechanical redistribution component (ridging)</dd>
<dt><strong>icepack_meltpond_cesm.F90</strong></dt>
<dd>CESM melt pond parameterization</dd>
<dt><strong>icepack_meltpond_lvl.F90</strong></dt>
<dd>level-ice melt pond parameterization</dd>
<dt><strong>icepack_meltpond_topo.F90</strong></dt>
<dd>topo melt pond parameterization</dd>
<dt><strong>icepack_ocean.F90</strong>  (CHECK THIS, not in directory now)</dt>
<dd>mixed layer ocean model</dd>
<dt><strong>icepack_mushy_physics.F90</strong></dt>
<dd>physics routines for mushy thermodynamics</dd>
<dt><strong>icepack_orbital.F90</strong></dt>
<dd>orbital parameters for Delta-Eddington shortwave parameterization</dd>
<dt><strong>icepack_shortwave.F90</strong></dt>
<dd>shortwave and albedo parameterizations</dd>
<dt><strong>icepack_therm_0layer.F90</strong></dt>
<dd>zero-layer thermodynamics of <a class="reference internal" href="zreferences.html#semtner76" id="id1">[44]</a></dd>
<dt><strong>icepack_therm_bl99.F90</strong></dt>
<dd>multilayer thermodynamics of <a class="reference internal" href="zreferences.html#bl99" id="id2">[7]</a></dd>
<dt><strong>icepack_therm_itd.F90</strong></dt>
<dd>thermodynamic changes mostly related to ice thickness distribution</dd>
<dt><strong>icepack_therm_mushy.F90</strong></dt>
<dd>mushy-theory thermodynamics of <a class="reference internal" href="zreferences.html#thb13" id="id3">[52]</a></dd>
<dt><strong>icepack_therm_shared.F90</strong></dt>
<dd>code shared by all thermodynamics parameterizations</dd>
<dt><strong>icepack_therm_vertical.F90</strong></dt>
<dd>vertical growth rates and fluxes</dd>
<dt><strong>icepack_warnings.F90</strong></dt>
<dd>utilities for writing warning and error messages</dd>
<dt><strong>icepack_zbgc.F90</strong></dt>
<dd>driver for ice biogeochemistry and brine tracer motion</dd>
<dt><strong>icepack_zbgc_shared.F90</strong></dt>
<dd>parameters and shared code for biogeochemistry and brine height</dd>
<dt><strong>icepack_zsalinity.F90</strong></dt>
<dd>vertical salinity parameterization of <a class="reference internal" href="zreferences.html#jhe11" id="id4">[25]</a></dd>
</dl>
</dd>
<dt><strong>configuration/</strong></dt>
<dd><p class="first">drivers and scripts for testing Icepack in stand-alone mode</p>
<dl class="last docutils">
<dt><strong>driver/</strong></dt>
<dd><dl class="first last docutils">
<dt><strong>icepack_drv_MAIN.F90</strong></dt>
<dd>main program</dd>
<dt><strong>icepack_drv_InitMod.F90</strong></dt>
<dd>routines for initializing a run</dd>
<dt><strong>icepack_drv_RunMod.F90</strong></dt>
<dd>main driver routines for time stepping</dd>
<dt><strong>icepack_drv_arrays_column.F90</strong></dt>
<dd>essential arrays to describe the state of the ice</dd>
<dt><strong>icepack_drv_calendar.F90</strong></dt>
<dd>keeps track of what time it is</dd>
<dt><strong>icepack_drv_constants.F90</strong></dt>
<dd>physical and numerical constants and parameters</dd>
<dt><strong>icepack_drv_diagnostics.F90</strong></dt>
<dd>miscellaneous diagnostic and debugging routines</dd>
<dt><strong>icepack_drv_diagnostics_bgc.F90</strong></dt>
<dd>diagnostic routines for biogeochemistry</dd>
<dt><strong>icepack_drv_domain_size.F90</strong></dt>
<dd>domain sizes</dd>
<dt><strong>icepack_drv_flux.F90</strong></dt>
<dd>fluxes needed/produced by the model</dd>
<dt><strong>icepack_drv_forcing.F90</strong></dt>
<dd>routines to read and interpolate forcing data for stand-alone model runs</dd>
<dt><strong>icepack_drv_init.F90</strong></dt>
<dd>general initialization routines</dd>
<dt><strong>icepack_drv_init_column.F90</strong></dt>
<dd>initialization routines specific to the column physics</dd>
<dt><strong>icepack_drv_restart.F90</strong></dt>
<dd>driver for reading/writing restart files</dd>
<dt><strong>icepack_drv_restart_column.F90</strong>  (CHECK: RENAME bgc)</dt>
<dd>restart routines specific to the column physics</dd>
<dt><strong>icepack_drv_restart_shared.F90</strong></dt>
<dd>code shared by all restart options</dd>
<dt><strong>icepack_drv_state.F90</strong></dt>
<dd>essential arrays to describe the state of the ice</dd>
<dt><strong>icepack_drv_step_mod.F90</strong></dt>
<dd>routines for time stepping the major code components</dd>
</dl>
</dd>
<dt><strong>scripts/</strong></dt>
<dd><dl class="first last docutils">
<dt><strong>Makefile</strong></dt>
<dd>primary makefile</dd>
<dt><strong>icepack.batch.csh</strong></dt>
<dd>creates batch scripts for particular machines</dd>
<dt><strong>icepack.build</strong></dt>
<dd>compiles the code</dd>
<dt><strong>icepack.launch.csh</strong></dt>
<dd>creates script logic that runs the executable</dd>
<dt><strong>icepack.run.setup.csh</strong></dt>
<dd>sets up the run directory</dd>
<dt><strong>icepack.settings</strong></dt>
<dd>defines environment, model configuration and run settings</dd>
<dt><strong>icepack.test.setup.csh</strong></dt>
<dd>creates configurations for testing the model</dd>
<dt><strong>icepack_decomp.csh</strong></dt>
<dd>defines the grid size</dd>
<dt><strong>icepack_in</strong></dt>
<dd>(CHECK) namelist input data (data paths depend on particular system)</dd>
<dt><strong>machines/</strong></dt>
<dd>macro definitions for the given computers</dd>
<dt><strong>makdep.c</strong></dt>
<dd>determines module dependencies</dd>
<dt><strong>options/</strong></dt>
<dd>other namelist configurations available from the icepack.create.case command line</dd>
<dt><strong>parse_namelist.sh</strong></dt>
<dd>replaces namelist with command-line configuration</dd>
<dt><strong>parse_settings.sh</strong></dt>
<dd>replaces settings with command-line configuration</dd>
<dt><strong>tests/</strong></dt>
<dd>(CHECK) <a class="reference external" href="https://github.com/CICE-Consortium/Icepack/tree/master/configuration/scripts/tests">scripts</a> for configuring and running basic tests</dd>
</dl>
</dd>
</dl>
</dd>
<dt><strong>doc/</strong></dt>
<dd>documentation</dd>
<dt><strong>icepack.create.case</strong></dt>
<dd>main <a class="reference external" href="https://github.com/CICE-Consortium/Icepack/blob/master/icepack.create.case">script</a> for setting up a test case</dd>
</dl>
<p>(CHECK)</p>
<p>A case (compile) directory is created upon initial execution of the script
<strong>icepack.create.case</strong> at the user-specified location provided after the -c flag.
Executing the command <code class="docutils literal"><span class="pre">./icepack.create.case</span> <span class="pre">-h</span></code> provides helpful information for
this tool. Please refer to the <a class="reference external" href="https://CICE-Consortium.github.io/Icepack/index.html">user guide</a>
for further information.</p>
</div>
<div class="section" id="grid-and-boundary-conditions">
<span id="grids"></span><h3>3.1.2. Grid and boundary conditions<a class="headerlink" href="#grid-and-boundary-conditions" title="Permalink to this headline">¶</a></h3>
<p>The driver configures a collection of grid cells on which the column physics code
will be run. This “horizontal” grid is a vector of length <code class="docutils literal"><span class="pre">nx</span></code>, with a minimum length
of 4.
The grid vector is initialized with different sea ice conditions, such as open
water, a uniform slab of ice, a multi-year ice thickness distribution with snow,
and land. For simplicity, the same forcing values are applied to all grid cells.</p>
<p>Icepack includes two vertical grids.  The basic vertical grid contains
<code class="docutils literal"><span class="pre">nilyr</span></code> equally spaced grid cells.
History variables available for column output are ice and snow
temperature, <code class="docutils literal"><span class="pre">Tinz</span></code> and <code class="docutils literal"><span class="pre">Tsnz</span></code>. These variables also include thickness
category as a fourth dimension.</p>
<p>In addition, there is a bio-grid that
can be more finely resolved and includes additional nodes for boundary conditions.
It is used for solving the brine height variable <span class="math">\(h_b\)</span> and for
discretizing the vertical transport equations of biogeochemical tracers.
The bio-grid is a non-dimensional vertical grid which takes the value
zero at <span class="math">\(h_b\)</span> and one at the ice–ocean interface. The number of
grid levels is specified during compilation by setting
the variable <code class="docutils literal"><span class="pre">NBGCLYR</span></code> equal to an integer (<span class="math">\(n_b\)</span>) .</p>
<p>Ice tracers and microstructural properties defined on the bio-grid are
referenced in two ways: as <code class="docutils literal"><span class="pre">bgrid</span></code> <span class="math">\(=n_b+2\)</span> points and as
igrid<span class="math">\(=n_b+1\)</span> points. For both bgrid and igrid, the first and
last points reference <span class="math">\(h_b\)</span> and the ice–ocean interface,
respectively, and so take the values <span class="math">\(0\)</span> and <span class="math">\(1\)</span>,
respectively. For bgrid, the interior points <span class="math">\([2, n_b+1]\)</span> are
spaced at <span class="math">\(1/n_b\)</span> intervals beginning with <cite>bgrid(2)</cite> =
<span class="math">\(1/(2n_b)\)</span>. The <code class="docutils literal"><span class="pre">igrid</span></code> interior points <span class="math">\([2, n_b]\)</span> are also
equidistant with the same spacing, but physically coincide with points
midway between those of <code class="docutils literal"><span class="pre">bgrid</span></code>.</p>
</div>
<div class="section" id="test-configurations">
<span id="testconfigs"></span><h3>3.1.3. Test configurations<a class="headerlink" href="#test-configurations" title="Permalink to this headline">¶</a></h3>
<p><em>(CHECK) UPDATE</em></p>
<p>The column is located
near Barrow (71.35N, 156.5W). Options for choosing the column
configuration are given in <strong>comp_ice</strong> (choose <cite>RES col</cite>) and in the
namelist file, <strong>input_templates/col/ice_in</strong>. Here, <code class="docutils literal"><span class="pre">istep0</span></code> and the
initial conditions are set such that the run begins September 1 with no
ice.</p>
</div>
<div class="section" id="initialization-and-coupling">
<span id="init"></span><h3>3.1.4. Initialization and coupling<a class="headerlink" href="#initialization-and-coupling" title="Permalink to this headline">¶</a></h3>
<p>Icepack’s parameters and variables are initialized in several
steps. Many constants and physical parameters are set in
<strong>icepack_constants.F90</strong>. Namelist variables (<a class="reference internal" href="#tabnamelist"><span class="std std-ref">Table of namelist options</span></a>),
whose values can be altered at run time, are handled in <em>input_data</em>
and other initialization routines. These variables are given default
values in the code, which may then be changed when the input file
<strong>icepack_in</strong> is read. Other physical constants, numerical parameters, and
variables are first set in initialization routines for each ice model
component or module. Then, if the ice model is being restarted from a
previous run, core variables are read and reinitialized in
<em>restartfile</em>, while tracer variables needed for specific configurations
are read in separate restart routines associated with each tracer or
specialized parameterization. Finally, albedo and other quantities
dependent on the initial ice state are set. Some of these parameters
will be described in more detail in <a class="reference internal" href="#tabnamelist"><span class="std std-ref">Table of namelist options</span></a>.</p>
<p>Two namelist variables control model initialization, <code class="docutils literal"><span class="pre">ice\_ic</span></code>
and <code class="docutils literal"><span class="pre">restart</span></code>.  Setting <code class="docutils literal"><span class="pre">ice\_ic</span></code> = default causes the model to run using
constant forcing and initial values set in the code.  To start
from a file <strong>filename</strong>, set
<code class="docutils literal"><span class="pre">restart</span></code> = true and <code class="docutils literal"><span class="pre">ice\_ic</span></code> = <strong>filename</strong>.  When restarting using the Icepack
driver, for simplicity the tracers are assumed to be set the same way (on/off) as in the
run that created the restart file; i.e. that the restart file contains exactly the
information needed for the new run.  CICE is more flexible in this regard.</p>
<p>For stand-alone runs,
routines in <strong>icepack_drv_forcing.F90</strong> read and interpolate data from files,
and are intended merely for testing, although they can also provide guidance for
the user to write his or her own routines.</p>
</div>
<div class="section" id="choosing-an-appropriate-time-step">
<span id="parameters"></span><h3>3.1.5. Choosing an appropriate time step<a class="headerlink" href="#choosing-an-appropriate-time-step" title="Permalink to this headline">¶</a></h3>
<p>Transport in thickness space imposes a restraint on the time
step, given by the ice growth/melt rate and the smallest range of
thickness among the categories,
<span class="math">\(\Delta t&lt;\min(\Delta H)/2\max(f)\)</span>, where <span class="math">\(\Delta H\)</span> is the
distance between category boundaries and <span class="math">\(f\)</span> is the thermodynamic
growth rate. For the 5-category ice thickness distribution used as the
default in this distribution, this is not a stringent limitation:
<span class="math">\(\Delta t &lt; 19.4\)</span>&nbsp;hr, assuming <span class="math">\(\max(f) = 40\)</span>&nbsp;cm/day.</p>
</div>
<div class="section" id="model-output">
<h3>3.1.6. Model output<a class="headerlink" href="#model-output" title="Permalink to this headline">¶</a></h3>
<p id="history">History output from Icepack is not currently supported in the Icepack driver, except
in restart files.</p>
<p>(CHECK) <a class="reference external" href="https://github.com/CICE-Consortium/CICE">CICE</a> provides extensive options for model output, including many derived output variables.</p>
<div class="section" id="diagnostic-files">
<h4>3.1.6.1. Diagnostic files<a class="headerlink" href="#diagnostic-files" title="Permalink to this headline">¶</a></h4>
<p>Icepack writes diagnostic information for each grid cell as a separate file,
<strong>ice_diag.*</strong>.</p>
</div>
<div class="section" id="restart-files">
<h4>3.1.6.2. Restart files<a class="headerlink" href="#restart-files" title="Permalink to this headline">¶</a></h4>
<p>CHANGE as needed re netCDF</p>
<p>CICE provides restart data in binary unformatted or netCDF formats, via
the <cite>IO_TYPE</cite> flag in <strong>comp_ice</strong> and namelist variable
<cite>restart_format</cite>.</p>
<p>The restart files created by the Icepack driver contain all of the variables needed
for a full, exact restart. The filename begins with the character string
‘iced.’, and the restart dump frequency is given by the namelist
variable <cite>dumpfreq</cite>. The namelist variable <cite>ice_ic</cite> contains the
pointer to the filename from which the restart data is to be read.</p>
</div>
</div>
</div>
<div class="section" id="execution-procedures">
<h2>3.2. Execution procedures<a class="headerlink" href="#execution-procedures" title="Permalink to this headline">¶</a></h2>
<p>Quick-start instructions are provided in section <a class="reference internal" href="icepack_1_introduction.html#quickstart"><span class="std std-ref">Quick Start</span></a></p>
<div class="section" id="id6">
<h3>3.2.1. Scripts<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Most of the scripts that configure, build and run Icepack tests are contained in
the directory <strong>configuration/scripts/</strong>, except for <strong>icepack.create.case</strong>, which is
in the main directory.</p>
<p>Users likely will need to create or edit some scripts for their computer’s environment.
Specific instructions for porting are provided below.</p>
<dl class="docutils">
<dt>icepack.create.case generates a case. Use <code class="docutils literal"><span class="pre">create.case</span> <span class="pre">-h</span></code> for help with the tool.</dt>
<dd><p class="first">-c is the case name and location (required)</p>
<p>-m is the machine name (required). Currently, there are working ports for NCAR yellowstone and cheyenne, AFRL thunder, NavyDSRC gordon and conrad, and LANL’s wolf machines.</p>
<p>-s are comma separated optional env or namelist settings (default is “null”)</p>
<p>-t is the test name and location (cannot be used with -c).</p>
<p>-bd is used to specify the location of the baseline datasets (only used with -t)</p>
<p>-bg is used to specify the icepack version name for generating baseline datasets (only used with -t)</p>
<p>-bc is used to specify the icepack version name for comparison. I.e., the version name for the baseline dataset (only used with -t)</p>
<p>-testid is used to specify a test ID (used only with -t or -ts)</p>
<p class="last">-ts is used to generate all test cases for a given test suite.</p>
</dd>
</dl>
<p>Several files are placed in the case directory</p>
<ul class="simple">
<li><strong>env.[machine]</strong> defines the environment</li>
<li><strong>icepack.settings</strong> defines many variables associated with building and running the model</li>
<li><strong>makdep.c</strong> is a tool that will automatically generate the make dependencies</li>
<li><strong>Macros.[machine]</strong> defines the Makefile macros</li>
<li><strong>Makefile</strong> is the makefile used to build the model</li>
<li><strong>icepack.build</strong> is a script that builds and compiles the model</li>
<li><strong>icepack_in</strong> is the namelist file</li>
<li><strong>icepack.run</strong> is a batch run script</li>
<li><strong>icepack.submit</strong> is a simple script that submits the icepack.run script</li>
</ul>
<p>Once the case is created, all scripts and namelist are fully resolved.  Users can edit any
of the files in the case directory manually to change the model configuration.  The file
dependency is indicated in the above list.  For instance, if any of the files before
<strong>icepack.build</strong> in the list are edited, <strong>icepack.build</strong> should be rerun.</p>
<p>The <strong>casescripts/</strong> directory holds scripts used to create the case and can
largely be ignored.
In general, when <strong>icepack.build</strong> is executed, the model will build from scratch
due to extensive preprocessing dependencies.  To change this behavior, edit the
env variable <code class="docutils literal"><span class="pre">ICE\_CLEANBUILD</span></code> in <strong>icepack.settings</strong>.</p>
<p>The <strong>icepack.submit</strong> script simply submits the <strong>icepack.run script</strong>.
You can also submit the <strong>icepack.run</strong> script on the command line.</p>
<p>To port, an <strong>env.**[machine] and **Macros.**[machine] file have to be added to
**configuration/scripts/machines/</strong> and the
<strong>icepack.run.setup.csh</strong> file needs to be modified.</p>
<ul class="simple">
<li>cd to <strong>configuration/scripts/machines/</strong></li>
<li>Copy existing env and Macros files to new names for your new machine</li>
<li>Edit the env and Macros files</li>
<li>cd .. to <strong>configuration/scripts/</strong></li>
<li>Edit the <strong>icepack.run.setup.csh</strong> script to add a section for your machine
with batch settings and job launch settings</li>
<li>Download and untar a forcing dataset to the location defined by
<code class="docutils literal"><span class="pre">ICE\_MACHINE\_INPUTDATA</span></code> in the env file</li>
<li>Create a file in your home directory called .cice_proj and add your preferred account name to the first line.</li>
</ul>
</div>
<div class="section" id="directories">
<h3>3.2.2. Directories<a class="headerlink" href="#directories" title="Permalink to this headline">¶</a></h3>
<p>CHECK</p>
<p>The <strong>icepack.create.case</strong> script creates a case directory in the location specified
by the <code class="docutils literal"><span class="pre">-c</span></code> or <code class="docutils literal"><span class="pre">-t</span></code> flags.  The <strong>icepack.build</strong> (or equivalent test suite) script
creates the run directory defined by the env variable <code class="docutils literal"><span class="pre">ICE\_RUNDIR</span></code> in
<strong>icepack.settings</strong>, and it compiles the code there.  The run directory is further
populated by the <strong>icepack.run</strong> script, which also runs the executable.</p>
<p>Build and run logs will be copied from the run directory into the case <strong>logs/</strong>
directory when complete.</p>
</div>
<div class="section" id="local-modifications">
<h3>3.2.3. Local modifications<a class="headerlink" href="#local-modifications" title="Permalink to this headline">¶</a></h3>
<p>If there are problems, you can manually edit
the env, Macros, and <strong>icepack.run</strong> files in the case directory until things are
working properly.  Then you can copy the env and Macros files back to
<strong>configuration/scripts/machines</strong>.  You will have to manually modify the
<strong>icepack.run.setup.csh</strong> script if there any changes needed there.</p>
<p>You can also directly modify the namelist files (<strong>icepack_in</strong>) in the run directory and
run the code by submitting the executable <strong>icepack</strong> directly.  Beware that any changes
make in the run directory will be overwritten if scripts are later run from the case
directory.</p>
</div>
<div class="section" id="forcing-data">
<h3>3.2.4. Forcing data<a class="headerlink" href="#forcing-data" title="Permalink to this headline">¶</a></h3>
<p>FINISH:</p>
<p>The code is currently configured to run in standalone mode on a 4-cell grid using
atmospheric data, available as detailed on the <a class="reference external" href="https://github.com/CICE-Consortium/Icepack/wiki/Testing-Icepack">wiki</a>.
These data files are designed only for testing the code, not for use in production
runs or as observational data.  Please do not publish results based on these data
sets.  Module <strong>configuration/driver/icepack_drv_forcing.F90</strong>
can be modified to change the forcing data.</p>
</div>
</div>
<div class="section" id="adding-tracers">
<h2>3.3. Adding Tracers<a class="headerlink" href="#adding-tracers" title="Permalink to this headline">¶</a></h2>
<p id="addtrcr">Tracers added to Icepack will also require extensive modifications to the host
sea ice model, including initialization on the horizontal grid, namelist flags
and restart capabilities.  Modifications to the Icepack driver should reflect
the modifications needed in the host model but are not expected to match completely.
We recommend that the logical namelist variable
<code class="docutils literal"><span class="pre">tr\_[tracer]</span></code> be used for all calls involving the new tracer outside of
<strong>ice_[tracer].F90</strong>, in case other users do not want to use that
tracer.</p>
<p>A number of optional tracers are available in the code, including ice
age, first-year ice area, melt pond area and volume, brine height,
aerosols, and level ice area and volume (from which ridged ice
quantities are derived). Salinity, enthalpies, age, aerosols, level-ice
volume, brine height and most melt pond quantities are volume-weighted
tracers, while first-year area, pond area, level-ice area and all of the
biogeochemistry tracers in this release are area-weighted tracers. In
the absence of sources and sinks, the total mass of a volume-weighted
tracer such as aerosol (kg) is conserved under transport in horizontal
and thickness space (the mass in a given grid cell will change), whereas
the aerosol concentration (kg/m) is unchanged following the motion, and
in particular, the concentration is unchanged when there is surface or
basal melting. The proper units for a volume-weighted mass tracer in the
tracer array are kg/m.</p>
<p>In several places in the code, tracer computations must be performed on
the conserved “tracer volume” rather than the tracer itself; for
example, the conserved quantity is <span class="math">\(h_{pnd}a_{pnd}a_{lvl}a_{i}\)</span>,
not <span class="math">\(h_{pnd}\)</span>. Conserved quantities are thus computed according to
the tracer dependencies, and code must be included to account for new
dependencies (e.g., <span class="math">\(a_{lvl}\)</span> and <span class="math">\(a_{pnd}\)</span> in
<strong>ice_itd.F90</strong> and <strong>ice_mechred.F90</strong>).</p>
<p>To add a tracer, follow these steps using one of the existing tracers as
a pattern.</p>
<ol class="arabic simple">
<li><strong>icepack_drv_domain_size.F90</strong>: increase <code class="docutils literal"><span class="pre">max\_ntrcr</span></code> (can also add option
to <strong>icepack.settings</strong> and <strong>icepack.build</strong>)</li>
<li><strong>icepack_drv_state.F90</strong>: declare <cite>nt_[tracer]</cite> and <cite>tr_[tracer]</cite></li>
<li><strong>icepack_[tracer].F90</strong>: create initialization, physics routines</li>
<li><strong>ice_drv_init.F90</strong>: (some of this may be done in <strong>ice_[tracer].F90</strong>
instead)<ul>
<li>add new module and <code class="docutils literal"><span class="pre">tr\_[tracer]</span></code> to list of used modules and
variables</li>
<li>add logical namelist variable <code class="docutils literal"><span class="pre">tr\_[tracer]</span></code></li>
<li>initialize namelist variable</li>
<li>print namelist variable to diagnostic output file</li>
<li>increment number of tracers in use based on namelist input (<code class="docutils literal"><span class="pre">ntrcr</span></code>)</li>
<li>define tracer types (<code class="docutils literal"><span class="pre">trcr\_depend</span></code> = 0 for ice area tracers, 1 for
ice volume, 2 for snow volume, 2+``nt_``[tracer] for dependence on
other tracers)</li>
</ul>
</li>
<li><strong>icepack_itd.F90</strong>, <strong>icepack_mechred.F90</strong>: Account for new dependencies
if needed.</li>
<li><strong>icepack_drv_InitMod.F90</strong>: initialize tracer (includes reading restart
file)</li>
<li><strong>icepack_drv_RunMod.F90</strong>, <strong>icepack_drv_step_mod.F90</strong>:<ul>
<li>call routine to write tracer restart data</li>
<li>call physics routines in <strong>icepack_[tracer].F90</strong> (often called from
<strong>icepack_drv_step_mod.F90</strong>)</li>
</ul>
</li>
<li><strong>icepack_drv_restart.F90</strong>: define restart variables</li>
<li><strong>icepack_in</strong>: add namelist variables to <em>tracer_nml</em> and
<em>icefields_nml</em></li>
<li>If strict conservation is necessary, add diagnostics as noted for
topo ponds in Section&nbsp;<a class="reference internal" href="icepack_2_science_guide.html#ponds"><span class="std std-ref">Melt ponds</span></a>.</li>
</ol>
</div>
<div class="section" id="troubleshooting">
<h2>3.4. Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>Check the FAQ: <a class="reference external" href="https://github.com/CICE-Consortium/Icepack/wiki">https://github.com/CICE-Consortium/Icepack/wiki</a></p>
<div class="section" id="initial-setup">
<span id="setup"></span><h3>3.4.1. Initial setup<a class="headerlink" href="#initial-setup" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="restarts">
<span id="restarttrouble"></span><h3>3.4.2. Restarts<a class="headerlink" href="#restarts" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="known-bugs">
<h3>3.4.3. Known bugs<a class="headerlink" href="#known-bugs" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>With the old CCSM radiative scheme (<code class="docutils literal"><span class="pre">shortwave</span></code> = ‘default’ or
‘ccsm3’), a sizable fraction (more than 10%) of the total shortwave
radiation is absorbed at the surface but should be penetrating into
the ice interior instead. This is due to use of the aggregated,
effective albedo rather than the bare ice albedo when
<a href="#id7"><span class="problematic" id="id8">``</span></a>snowpatch``&nbsp;<span class="math">\(&lt; 1\)</span>.</li>
</ul>
</div>
<div class="section" id="interpretation-of-albedos">
<h3>3.4.4. Interpretation of albedos<a class="headerlink" href="#interpretation-of-albedos" title="Permalink to this headline">¶</a></h3>
<p>The snow-and-ice albedo, <code class="docutils literal"><span class="pre">albsni</span></code>, and diagnostic albedos <code class="docutils literal"><span class="pre">albice</span></code>, <code class="docutils literal"><span class="pre">albsno</span></code>,
and <code class="docutils literal"><span class="pre">albpnd</span></code> are merged over categories but not scaled (divided) by the
total ice area. (This is a change from CICE v4.1 for <code class="docutils literal"><span class="pre">albsni</span></code>.) The latter
three history variables represent completely bare or completely snow- or
melt-pond-covered ice; that is, they do not take into account the snow
or melt pond fraction (<code class="docutils literal"><span class="pre">albsni</span></code> does, as does the code itself during
thermodyamic computations). This is to facilitate comparison with
typical values in measurements or other albedo parameterizations. The
melt pond albedo <code class="docutils literal"><span class="pre">albpnd</span></code> is only computed for the Delta-Eddington
shortwave case.</p>
<p>With the Delta-Eddington parameterization, the albedo depends on the
cosine of the zenith angle (<span class="math">\(\cos\varphi\)</span>, <code class="docutils literal"><span class="pre">coszen</span></code>) and is zero if
the sun is below the horizon (<span class="math">\(\cos\varphi &lt; 0\)</span>). Therefore
time-averaged albedo fields would be low if a diurnal solar cycle is
used, because zero values would be included in the average for half of
each 24-hour period. To rectify this, a separate counter is used for the
averaging that is incremented only when <span class="math">\(\cos\varphi &gt; 0\)</span>. The
albedos will still be zero in the dark, polar winter hemisphere.</p>
</div>
<div class="section" id="proliferating-subprocess-parameterizations">
<h3>3.4.5. Proliferating subprocess parameterizations<a class="headerlink" href="#proliferating-subprocess-parameterizations" title="Permalink to this headline">¶</a></h3>
<p>With the addition of several alternative parameterizations for sea ice
processes, a number of subprocesses now appear in multiple parts of the
code with differing descriptions. For instance, sea ice porosity and
permeability, along with associated flushing and flooding, are
calculated separately for mushy thermodynamics, topo and level-ice melt
ponds, and for the brine height tracer, each employing its own
equations. Likewise, the BL99 and mushy thermodynamics compute freeboard
and snow–ice formation differently, and the topo and level-ice melt pond
schemes both allow fresh ice to grow atop melt ponds, using slightly
different formulations for Stefan freezing. These various process
parameterizations will be compared and their subprocess descriptions
possibly unified in the future.</p>
</div>
</div>
<div class="section" id="table-of-namelist-options">
<span id="tabnamelist"></span><h2>3.5. Table of namelist options<a class="headerlink" href="#table-of-namelist-options" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils" id="id16">
<span id="tab-namelist"></span><caption><span class="caption-text">Table 7</span><a class="headerlink" href="#id16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="40%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">variable</th>
<th class="head">options/format</th>
<th class="head">description</th>
<th class="head">recommended value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><em>setup_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Time, Diagnostics</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">days_per_year</span></code></td>
<td><code class="docutils literal"><span class="pre">360</span></code> or <code class="docutils literal"><span class="pre">365</span></code></td>
<td>number of days in a model year</td>
<td>365</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">use_leap_years</span></code></td>
<td>true/false</td>
<td>if true, include leap days</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">year_init</span></code></td>
<td>yyyy</td>
<td>the initial year, if not using restart</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">istep0</span></code></td>
<td>integer</td>
<td>initial time step number</td>
<td>0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dt</span></code></td>
<td>seconds</td>
<td>thermodynamics time step length</td>
<td><ol class="first last arabic simple" start="3600">
<li></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">npt</span></code></td>
<td>integer</td>
<td>total number of time steps to take</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ndtd</span></code></td>
<td>integer</td>
<td>number of dynamics/advection/ridging/steps per thermo timestep</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Initialization/Restarting</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">runtype</span></code></td>
<td><code class="docutils literal"><span class="pre">initial</span></code></td>
<td>start from <code class="docutils literal"><span class="pre">ice_ic</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">continue</span></code></td>
<td>restart using <code class="docutils literal"><span class="pre">pointer_file</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ice_ic</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>latitude and sst dependent</td>
<td>default</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">none</span></code></td>
<td>no ice</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>path/file</td>
<td>restart file name</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart</span></code></td>
<td>true/false</td>
<td>initialize using restart file</td>
<td><code class="docutils literal"><span class="pre">.true.</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">use_restart_time</span></code></td>
<td>true/false</td>
<td>set initial date using restart file</td>
<td><code class="docutils literal"><span class="pre">.true.</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_format</span></code></td>
<td>nc</td>
<td>read/write &nbsp;restart files (use with PIO)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>bin</td>
<td>read/write binary restart files</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">lcdf64</span></code></td>
<td>true/false</td>
<td>if true, use 64-bit &nbsp;format</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">restart_dir</span></code></td>
<td>path/</td>
<td>path to restart directory</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_ext</span></code></td>
<td>true/false</td>
<td>read/write halo cells in restart files</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">restart_file</span></code></td>
<td>filename prefix</td>
<td>output file for restart dump</td>
<td>‘iced’</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">pointer_file</span></code></td>
<td>pointer filename</td>
<td>contains restart filename</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dumpfreq</span></code></td>
<td><code class="docutils literal"><span class="pre">y</span></code></td>
<td>write restart every <code class="docutils literal"><span class="pre">dumpfreq_n</span></code> years</td>
<td>y</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">m</span></code></td>
<td>write restart every <code class="docutils literal"><span class="pre">dumpfreq_n</span></code> months</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">d</span></code></td>
<td>write restart every <code class="docutils literal"><span class="pre">dumpfreq_n</span></code> days</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">dumpfreq_n</span></code></td>
<td>integer</td>
<td>frequency restart data is written</td>
<td>1</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dump_last</span></code></td>
<td>true/false</td>
<td>if true, write restart on last time step of simulation</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Model Output</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">bfbflag</span></code></td>
<td>true/false</td>
<td>for bit-for-bit diagnostic output</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">diagfreq</span></code></td>
<td>integer</td>
<td>frequency of diagnostic output in <code class="docutils literal"><span class="pre">dt</span></code></td>
<td>24</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><em>e.g.</em>, 10</td>
<td>once every 10 time steps</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">diag_type</span></code></td>
<td><code class="docutils literal"><span class="pre">stdout</span></code></td>
<td>write diagnostic output to stdout</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">file</span></code></td>
<td>write diagnostic output to file</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">diag_file</span></code></td>
<td>filename</td>
<td>diagnostic output file (script may reset)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">print_global</span></code></td>
<td>true/false</td>
<td>print diagnostic data, global sums</td>
<td><code class="docutils literal"><span class="pre">.false.</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">print_points</span></code></td>
<td>true/false</td>
<td>print diagnostic data for two grid points</td>
<td><code class="docutils literal"><span class="pre">.false.</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">latpnt</span></code></td>
<td>real</td>
<td>latitude of (2) diagnostic points</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">lonpnt</span></code></td>
<td>real</td>
<td>longitude of (2) diagnostic points</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dbug</span></code></td>
<td>true/false</td>
<td>if true, write extra diagnostics</td>
<td><code class="docutils literal"><span class="pre">.false.</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">histfreq</span></code></td>
<td>string array</td>
<td>defines output frequencies</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">y</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> years</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">m</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> months</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">d</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> days</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">h</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> hours</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>write history every time step</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">x</span></code></td>
<td>unused frequency stream (not written)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">histfreq_n</span></code></td>
<td>integer array</td>
<td>frequency history output is written</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>0</td>
<td>do not write to history</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">hist_avg</span></code></td>
<td>true</td>
<td>write time-averaged data</td>
<td><code class="docutils literal"><span class="pre">.true.</span></code></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>false</td>
<td>write snapshots of data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">history\_dir</span></code></td>
<td>path/</td>
<td>path to history output directory</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">history\_file</span></code></td>
<td>filename prefix</td>
<td>output file for history</td>
<td>‘iceh’</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">write\_ic</span></code></td>
<td>true/false</td>
<td>write initial condition</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">incond\_dir</span></code></td>
<td>path/</td>
<td>path to initial condition directory</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">incond\_file</span></code></td>
<td>filename prefix</td>
<td>output file for initial condition</td>
<td>‘iceh’</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">runid</span></code></td>
<td>string</td>
<td>label for run (currently CESM only)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><em>grid_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td><em>Grid</em></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">grid_format</span></code></td>
<td><code class="docutils literal"><span class="pre">nc</span></code></td>
<td>read &nbsp;grid and kmt files</td>
<td>‘bin’</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">bin</span></code></td>
<td>read direct access, binary file</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">grid_type</span></code></td>
<td><code class="docutils literal"><span class="pre">rectangular</span></code></td>
<td>defined in <em>rectgrid</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">displaced_pole</span></code></td>
<td>read from file in <em>popgrid</em></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">tripole</span></code></td>
<td>read from file in <em>popgrid</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">regional</span></code></td>
<td>read from file in <em>popgrid</em></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">grid_file</span></code></td>
<td>filename</td>
<td>name of grid file to be read</td>
<td>‘grid’</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">kmt_file</span></code></td>
<td>filename</td>
<td>name of land mask file to be read</td>
<td>‘kmt’</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">gridcpl_file</span></code></td>
<td>filename</td>
<td>input file for coupling grid info</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">kcatbound</span></code></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>original category boundary formula</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>new formula with round numbers</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">2</span></code></td>
<td>WMO standard categories</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">-1</span></code></td>
<td>one category</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><em>domain_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td><em>Domain</em></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">nprocs</span></code></td>
<td>integer</td>
<td>number of processors to use</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">processor_shape</span></code></td>
<td><code class="docutils literal"><span class="pre">slenderX1</span></code></td>
<td>1 processor in the y direction (tall, thin)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">slenderX2</span></code></td>
<td>2 processors in the y direction (thin)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">square-ice</span></code></td>
<td>more processors in x than y, <span class="math">\(\sim\)</span> square</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">square-pop</span></code></td>
<td>more processors in y than x, <span class="math">\(\sim\)</span> square</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">distribution_type</span></code></td>
<td><code class="docutils literal"><span class="pre">cartesian</span></code></td>
<td>distribute blocks in 2D Cartesian array</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">roundrobin</span></code></td>
<td>1 block per proc until blocks are used</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">sectcart</span></code></td>
<td>blocks distributed to domain quadrants</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">sectrobin</span></code></td>
<td>several blocks per proc until used</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">rake</span></code></td>
<td>redistribute blocks among neighbors</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">spacecurve</span></code></td>
<td>distribute blocks via space-filling curves</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">distribution_weight</span></code></td>
<td><code class="docutils literal"><span class="pre">block</span></code></td>
<td>full block size sets <code class="docutils literal"><span class="pre">work_per_block</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">latitude</span></code></td>
<td>latitude/ocean sets <code class="docutils literal"><span class="pre">work_per_block</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ew_boundary_type</span></code></td>
<td><code class="docutils literal"><span class="pre">cyclic</span></code></td>
<td>periodic boundary conditions in x-direction</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">open</span></code></td>
<td>Dirichlet boundary conditions in x</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ns_boundary_type</span></code></td>
<td><code class="docutils literal"><span class="pre">cyclic</span></code></td>
<td>periodic boundary conditions in y-direction</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">open</span></code></td>
<td>Dirichlet boundary conditions in y</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">tripole</span></code></td>
<td>U-fold tripole boundary conditions in y</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">tripoleT</span></code></td>
<td>T-fold tripole boundary conditions in y</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">maskhalo_dyn</span></code></td>
<td>true/false</td>
<td>mask unused halo cells for dynamics</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">maskhalo_remap</span></code></td>
<td>true/false</td>
<td>mask unused halo cells for transport</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">maskhalo_bound</span></code></td>
<td>true/false</td>
<td>mask unused halo cells for boundary updates</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>tracer_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Tracers</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_iage</span></code></td>
<td>true/false</td>
<td>ice age</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_age</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_FY</span></code></td>
<td>true/false</td>
<td>first-year ice area</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_FY</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_lvl</span></code></td>
<td>true/false</td>
<td>level ice area and volume</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_lvl</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_pond_cesm</span></code></td>
<td>true/false</td>
<td>CESM melt ponds</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_pond_cesm</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_pond_topo</span></code></td>
<td>true/false</td>
<td>topo melt ponds</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_pond_topo</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_pond_lvl</span></code></td>
<td>true/false</td>
<td>level-ice melt ponds</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_pond_lvl</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_aero</span></code></td>
<td>true/false</td>
<td>aerosols</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_aero</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>thermo_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Thermodynamics</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">kitd</span></code></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>delta function ITD approximation</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>linear remapping ITD approximation</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ktherm</span></code></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>zero-layer thermodynamic model</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>Bitz and Lipscomb thermodynamic model</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">2</span></code></td>
<td>mushy-layer thermodynamic model</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">conduct</span></code></td>
<td><code class="docutils literal"><span class="pre">MU71</span></code></td>
<td>conductivity <a class="reference internal" href="zreferences.html#mu71" id="id9">[38]</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">bubbly</span></code></td>
<td>conductivity <a class="reference internal" href="zreferences.html#petb07" id="id10">[41]</a></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">a_rapid_mode</span></code></td>
<td>real</td>
<td>brine channel diameter</td>
<td>0.5x10 <span class="math">\(^{-3}\)</span> m</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">Rac_rapid_mode</span></code></td>
<td>real</td>
<td>critical Rayleigh number</td>
<td>10</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">aspect_rapid_mode</span></code></td>
<td>real</td>
<td>brine convection aspect ratio</td>
<td>1</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dSdt_slow_mode</span></code></td>
<td>real</td>
<td>drainage strength parameter</td>
<td>-1.5x10 <span class="math">\(^{-7}\)</span> m/s/K</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">phi_c_slow_mode</span></code></td>
<td><span class="math">\(0&lt;\phi_c &lt; 1\)</span></td>
<td>critical liquid fraction</td>
<td>0.05</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">phi_i_mushy</span></code></td>
<td><span class="math">\(0&lt;\phi_i &lt; 1\)</span></td>
<td>solid fraction at lower boundary</td>
<td>0.85</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>dynamics_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Dynamics</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">kdyn</span></code></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>dynamics OFF</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>EVP dynamics</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">2</span></code></td>
<td>EAP dynamics</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">revised_evp</span></code></td>
<td>true/false</td>
<td>use revised EVP formulation</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ndte</span></code></td>
<td>integer</td>
<td>number of EVP subcycles</td>
<td>120</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">advection</span></code></td>
<td><code class="docutils literal"><span class="pre">remap</span></code></td>
<td>linear remapping advection</td>
<td>‘remap’</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">upwind</span></code></td>
<td>donor cell advection</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">kstrength</span></code></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>ice strength formulation <a class="reference internal" href="zreferences.html#hibler79" id="id11">[20]</a></td>
<td>1</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>ice strength formulation <a class="reference internal" href="zreferences.html#rothrock75" id="id12">[42]</a></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">krdg_partic</span></code></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>old ridging participation function</td>
<td>1</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>new ridging participation function</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">krdg_redist</span></code></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>old ridging redistribution function</td>
<td>1</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>new ridging redistribution function</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mu_rdg</span></code></td>
<td>real</td>
<td>e-folding scale of ridged ice</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">Cf</span></code></td>
<td>real</td>
<td>ratio of ridging work to PE change in ridging</td>
<td><ol class="first last arabic simple" start="17">
<li></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>shortwave_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Shortwave</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">shortwave</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>NCAR CCSM3 distribution method</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">dEdd</span></code></td>
<td>Delta-Eddington method</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">albedo_type</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>NCAR CCSM3 albedos</td>
<td>‘default’</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">constant</span></code></td>
<td>four constant albedos</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">albicev</span></code></td>
<td><span class="math">\(0&lt;\alpha &lt;1\)</span></td>
<td>visible ice albedo for thicker ice</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">albicei</span></code></td>
<td><span class="math">\(0&lt;\alpha &lt;1\)</span></td>
<td>near infrared ice albedo for thicker ice</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">albsnowv</span></code></td>
<td><span class="math">\(0&lt;\alpha &lt;1\)</span></td>
<td>visible, cold snow albedo</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">albsnowi</span></code></td>
<td><span class="math">\(0&lt;\alpha &lt;1\)</span></td>
<td>near infrared, cold snow albedo</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ahmax</span></code></td>
<td>real</td>
<td>albedo is constant above this thickness</td>
<td>0.3 m</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">R_ice</span></code></td>
<td>real</td>
<td>tuning parameter for sea ice albedo from Delta-Eddington shortwave</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">R_pnd</span></code></td>
<td>real</td>
<td>… for ponded sea ice albedo …</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">R_snw</span></code></td>
<td>real</td>
<td>… for snow (broadband albedo) …</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dT_mlt</span></code></td>
<td>real</td>
<td><span class="math">\(\Delta\)</span> temperature per <span class="math">\(\Delta\)</span> snow grain radius</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">rsnw_mlt</span></code></td>
<td>real</td>
<td>maximum melting snow grain radius</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">kalg</span></code></td>
<td>real</td>
<td>absorption coefficient for algae</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>ponds_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Melt Ponds</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">hp1</span></code></td>
<td>real</td>
<td>critical ice lid thickness for topo ponds</td>
<td>0.01 m</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">hs0</span></code></td>
<td>real</td>
<td>snow depth of transition to bare sea ice</td>
<td>0.03 m</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">hs1</span></code></td>
<td>real</td>
<td>snow depth of transition to pond ice</td>
<td>0.03 m</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">dpscale</span></code></td>
<td>real</td>
<td>time scale for flushing in permeable ice</td>
<td><span class="math">\(1\times 10^{-3}\)</span></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">frzpnd</span></code></td>
<td><code class="docutils literal"><span class="pre">hlid</span></code></td>
<td>Stefan refreezing with pond ice thickness</td>
<td>‘hlid’</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">cesm</span></code></td>
<td>CESM refreezing empirical formula</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">rfracmin</span></code></td>
<td><span class="math">\(0 \le r_{min} \le 1\)</span></td>
<td>minimum melt water added to ponds</td>
<td>0.15</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">rfracmax</span></code></td>
<td><span class="math">\(0 \le r_{max} \le 1\)</span></td>
<td>maximum melt water added to ponds</td>
<td>1.0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">pndaspect</span></code></td>
<td>real</td>
<td>aspect ratio of pond changes (depth:area)</td>
<td>0.8</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>zbgc_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Biogeochemistry</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_brine</span></code></td>
<td>true/false</td>
<td>brine height tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_hbrine</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">skl_bgc</span></code></td>
<td>true/false</td>
<td>biogeochemistry</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">bgc_flux_type</span></code></td>
<td><code class="docutils literal"><span class="pre">Jin2006</span></code></td>
<td>ice–ocean flux velocity of <a class="reference internal" href="zreferences.html#jdwstwlg06" id="id13">[26]</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">constant</span></code></td>
<td>constant ice–ocean flux velocity</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">restart_bgc</span></code></td>
<td>true/false</td>
<td>restart tracer values from file</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">restore_bgc</span></code></td>
<td>true/false</td>
<td>restore nitrate/silicate to data</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">bgc_data_dir</span></code></td>
<td>path/</td>
<td>data directory for bgc</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sil_data_type</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>default forcing value for silicate</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">clim</span></code></td>
<td>silicate forcing from ocean climatology <a class="reference internal" href="zreferences.html#glba06" id="id14">[18]</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">nit_data_type</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>default forcing value for nitrate</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">clim</span></code></td>
<td>nitrate forcing from ocean climatology <a class="reference internal" href="zreferences.html#glba06" id="id15">[18]</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">sss</span></code></td>
<td>nitrate forcing equals salinity</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tr_bgc_C_sk</span></code></td>
<td>true/false</td>
<td>algal carbon tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_bgc_chl_sk</span></code></td>
<td>true/false</td>
<td>algal chlorophyll tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tr_bgc_Am_sk</span></code></td>
<td>true/false</td>
<td>ammonium tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_bgc_Sil_sk</span></code></td>
<td>true/false</td>
<td>silicate tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tr_bgc_DMSPp_sk</span></code></td>
<td>true/false</td>
<td>particulate DMSP tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tr_bgc_DMSPd_sk</span></code></td>
<td>true/false</td>
<td>dissolved DMSP tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tr_bgc_DMS_sk</span></code></td>
<td>true/false</td>
<td>DMS tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">phi_snow</span></code></td>
<td>real</td>
<td>snow porosity for brine height tracer</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>forcing_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>Forcing</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">formdrag</span></code></td>
<td>true/false</td>
<td>calculate form drag</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">atmbndy</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>stability-based boundary layer</td>
<td>‘default’</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">constant</span></code></td>
<td>bulk transfer coefficients</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fyear_init</span></code></td>
<td>yyyy</td>
<td>first year of atmospheric forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ycycle</span></code></td>
<td>integer</td>
<td>number of years in forcing data cycle</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">atm_data_format</span></code></td>
<td><code class="docutils literal"><span class="pre">nc</span></code></td>
<td>read &nbsp;atmo forcing files</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">bin</span></code></td>
<td>read direct access, binary files</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">atm_data_type</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>constant values defined in the code</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">LYq</span></code></td>
<td>AOMIP/Large-Yeager forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">monthly</span></code></td>
<td>monthly forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">ncar</span></code></td>
<td>NCAR bulk forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">oned</span></code></td>
<td>column forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">atm_data_dir</span></code></td>
<td>path/</td>
<td>path to atmospheric forcing data directory</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">calc_strair</span></code></td>
<td>true</td>
<td>calculate wind stress and speed</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>false</td>
<td>read wind stress and speed from files</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">highfreq</span></code></td>
<td>true/false</td>
<td>high-frequency atmo coupling</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">natmiter</span></code></td>
<td>integer</td>
<td>number of atmo boundary layer iterations</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">calc_Tsfc</span></code></td>
<td>true/false</td>
<td>calculate surface temperature</td>
<td><code class="docutils literal"><span class="pre">.true.</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">precip_units</span></code></td>
<td><code class="docutils literal"><span class="pre">mks</span></code></td>
<td>liquid precipitation data units</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">mm_per_month</span></code></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">mm_per_sec</span></code></td>
<td>(same as MKS units)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tfrz_option</span></code></td>
<td><code class="docutils literal"><span class="pre">minus1p8</span></code></td>
<td>constant ocean freezing temperature (<span class="math">\(-1.8^\circ C\)</span>)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">linear_salt</span></code></td>
<td>linear function of salinity (ktherm=1)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">mushy_layer</span></code></td>
<td>matches mushy-layer thermo (ktherm=2)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ustar_min</span></code></td>
<td>real</td>
<td>minimum value of ocean friction velocity</td>
<td>0.0005 m/s</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fbot_xfer_type</span></code></td>
<td><code class="docutils literal"><span class="pre">constant</span></code></td>
<td>constant ocean heat transfer coefficient</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">Cdn\_ocn</span></code></td>
<td>variable ocean heat transfer coefficient</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">update_ocn_f</span></code></td>
<td>true</td>
<td>include frazil water/salt fluxes in ocn fluxes</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>false</td>
<td>do not include (when coupling with POP)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">l_mpond_fresh</span></code></td>
<td>true</td>
<td>retain (topo) pond water until ponds drain</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>false</td>
<td>release (topo) pond water immediately to ocean</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">oceanmixed_ice</span></code></td>
<td>true/false</td>
<td>active ocean mixed layer calculation</td>
<td><code class="docutils literal"><span class="pre">.true.</span></code> (if uncoupled)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ocn_data_format</span></code></td>
<td><code class="docutils literal"><span class="pre">nc</span></code></td>
<td>read &nbsp;ocean forcing files</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">bin</span></code></td>
<td>read direct access, binary files</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sss_data_type</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>constant values defined in the code</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">clim</span></code></td>
<td>climatological data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">near</span></code></td>
<td>POP ocean forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sst_data_type</span></code></td>
<td><code class="docutils literal"><span class="pre">default</span></code></td>
<td>constant values defined in the code</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">clim</span></code></td>
<td>climatological data</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">ncar</span></code></td>
<td>POP ocean forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ocn_data_dir</span></code></td>
<td>path/</td>
<td>path to oceanic forcing data directory</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">oceanmixed_file</span></code></td>
<td>filename</td>
<td>data file containing ocean forcing data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">restore_sst</span></code></td>
<td>true/false</td>
<td>restore sst to data</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">trestore</span></code></td>
<td>integer</td>
<td>sst restoring time scale (days)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">restore_ice</span></code></td>
<td>true/false</td>
<td>restore ice state along lateral boundaries</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><em>icefields_tracer_nml</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td><em>History Fields</em></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">f_&lt;var&gt;</span></code></td>
<td>string</td>
<td>frequency units for writing <code class="docutils literal"><span class="pre">&lt;var&gt;</span></code> to history</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">y</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> years</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">m</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> months</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">d</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> days</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">h</span></code></td>
<td>write history every <code class="docutils literal"><span class="pre">histfreq_n</span></code> hours</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>write history every time step</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">x</span></code></td>
<td>do not write <code class="docutils literal"><span class="pre">&lt;var&gt;</span></code> to history</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><code class="docutils literal"><span class="pre">md</span></code></td>
<td><em>e.g.,</em> write both monthly and daily files</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">f_&lt;var&gt;_ai</span></code></td>
<td>&#160;</td>
<td>grid cell average of <code class="docutils literal"><span class="pre">&lt;var&gt;</span></code> (<span class="math">\(\times a_i\)</span>)</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="icepack_4_index.html" title="4. Index of primary variables and parameters"
             >next</a></li>
        <li class="right" >
          <a href="icepack_2_science_guide.html" title="2. Science Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CICE-Consortium Icepack 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Los Alamos National Security, LLC (code) and National Center for Atmospheric Research (documentation).
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>